



    # # Frontend server block
    # server {
    #       # SSL settings
    #     ssl_protocols TLSv1.2 TLSv1.3;
    #     ssl_ciphers 'TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384';
    #     ssl_prefer_server_ciphers off;
    #     ssl_session_timeout 1d;
    #     ssl_session_cache shared:MozSSL:10m;
    #     ssl_session_tickets off;
    #     listen 443 ssl;
    #     server_name openmbee.apps.arena-workspace.navair.navy.mil;

    #     ssl_certificate /etc/secrets/ve/tls.crt;
    #     ssl_certificate_key /etc/secrets/ve/tls.key;

    #     location / {
    #         proxy_pass https://openmbee.apps.arena-workspace.navair.navy.mil;  # Replace with the actual location of your frontend service
    #         proxy_set_header Host $host;
    #         proxy_set_header X-Real-IP $remote_addr;
    #         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    #         proxy_set_header X-Forwarded-Proto $scheme;
    #     }
    # }

    # # Backend server block
    # server {
    #       # SSL settings
    #     ssl_protocols TLSv1.2 TLSv1.3;
    #     ssl_ciphers 'TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384';
    #     ssl_prefer_server_ciphers off;
    #     ssl_session_timeout 1d;
    #     ssl_session_cache shared:MozSSL:10m;
    #     ssl_session_tickets off;
    #     listen 443 ssl;
    #     server_name openmbee-mms.openmbee.svc.cluster.local;

    #     ssl_certificate /etc/secrets/mms/tls.crt;
    #     ssl_certificate_key /etc/secrets/mms/tls.key;

    #     location / {
    #         proxy_pass http://openmbee-mms.openmbee.svc.cluster.local:5000;
    #         proxy_set_header Host $host;
    #         proxy_set_header X-Real-IP $remote_addr;
    #         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    #         proxy_set_header X-Forwarded-Proto $scheme;
    #     }
    # }



# # server {
# #     listen 8080;
# #     server_name openmbee-mms.apps.arena-workspace.navair.navy.mil;

# #     # Serve Angular static files
# #     location / {
# #         root /usr/share/nginx/html;
# #         try_files $uri $uri/ /index.html;
# #         proxy_pass https://openmbee-mms.apps.arena-workspace.navair.navy.mil:5000; # Point to your Spring Boot backend
# #         proxy_set_header Host $host;
# #         proxy_set_header X-Real-IP $remote_addr;
# #         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
# #         proxy_set_header X-Forwarded-Proto $scheme;
# #     }

# #     # SSL configuration, if you're using SSL (recommended)
# #     # listen 443 ssl;
# #     # ssl_certificate /path/to/your/cert.crt;
# #     # ssl_certificate_key /path/to/your/private-key.key;
# #     # ... other SSL settings ...
# # }

# server {
#   # listen 8080;
#     listen 443 ssl;
#   server_name openmbee.apps.arena-workspace.navair.navy.mil;

#     # SSL settings
#     ssl_certificate /etc/secrets/tls.crt;
#     ssl_certificate_key /etc/secrets/tls.key;

#     # Other SSL settings for security
#     ssl_protocols TLSv1.2 TLSv1.3;
#     ssl_ciphers 'TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384';
#     ssl_prefer_server_ciphers off;
#     ssl_session_timeout 1d;
#     ssl_session_cache shared:MozSSL:10m;
#     ssl_session_tickets off;

#   location / {

#         # Add headers to allow CORS
#         add_header 'Access-Control-Allow-Origin' 'openmbee.apps.arena-workspace.navair.navy.mil/' always;
#         add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS' always;
#         add_header 'Access-Control-Allow-Headers' 'DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,Authorization' always;
#         add_header 'Access-Control-Expose-Headers' 'Content-Length,Content-Range' always;
#         add_header 'Access-Control-Allow-Credentials' 'true' always;

#         # Preflight request. Reply successfully:
#         if ($request_method = 'OPTIONS') {
#             add_header 'Access-Control-Allow-Origin' 'openmbee.apps.arena-workspace.navair.navy.mil/';
#             add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS';
#             add_header 'Access-Control-Allow-Headers' 'DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,Authorization';
#             add_header 'Access-Control-Max-Age' 1728000;
#             add_header 'Content-Type' 'text/plain; charset=utf-8';
#             add_header 'Content-Length' 0;
#             return 204;
#         }
#     root /usr/share/nginx/html;
#     index index.html index.htm;
#     # proxy_pass http://openmbee-mms.apps.arena-workspace.navair.navy.mil;
#     try_files $uri $uri/ /index.html =404;
#   }

  
#   gzip on;
#   gzip_vary on;
#   gzip_min_length 1024;
#   gzip_proxied any;
#   gzip_types
#     text/plain
#     text/css
#     text/js
#     text/xml
#     text/javascript
#     application/javascript
#     application/x-javascript
#     application/json
#     application/xml
#     application/rss+xml
#     image/svg+xml;
#   gzip_disable "MSIE [1-6]\.";
# }
server {
  listen 8080;
  location / {
    root /usr/share/nginx/html;
    index index.html index.htm;
    try_files $uri $uri/ /index.html =404;
  }
  gzip on;
  gzip_vary on;
  gzip_min_length 1024;
  gzip_proxied any;
  gzip_types
    text/plain
    text/css
    text/js
    text/xml
    text/javascript
    application/javascript
    application/x-javascript
    application/json
    application/xml
    application/rss+xml
    image/svg+xml;
  gzip_disable "MSIE [1-6]\.";
}